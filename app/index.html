<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Calculator | Amlan Saha Kundu</title>
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Montserrat:300' rel='stylesheet' type='text/css'>
	<meta name="viewport" content="width=device-width, initial-scale=0.75">
	<link rel="stylesheet" href="./style.css">

</head>

<body>
	<!-- partial:index.partial.html -->
	<div class="calculator">
		<div class="input" id="input"></div>
		<div class="buttons">
			<div class="operators">
				<div>+</div>
				<div>-</div>
				<div>&times;</div>
				<div>&divide;</div>
			</div>
			<div class="leftPanel">
				<div class="numbers">
					<div>7</div>
					<div>8</div>
					<div>9</div>
				</div>
				<div class="numbers">
					<div>4</div>
					<div>5</div>
					<div>6</div>
				</div>
				<div class="numbers">
					<div>1</div>
					<div>2</div>
					<div>3</div>
				</div>
				<div class="numbers">
					<div>0</div>
					<div>.</div>
					<div id="clear">C</div>
				</div>
			</div>
			<div class="equal" id="result">=</div>
		</div>
	</div>
	<div id="credit">
		<h5>by <a href="https://github.com/yoursamlan" target="_blank">Amlan Saha Kundu</a>, 2022</h5>
	</div>
	<!-- partial -->
	<script src="./script.js"></script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>


	<script type="text/javascript" src="https://rawcdn.githack.com/chrisveness/crypto/7067ee62f18c76dd4a9d372a00e647205460b62b/sha1.js"></script>

	<script type="text/javascript">
		"use strict";


		function loadPage(pwd) {
			var inputString = input.innerHTML;
			console.log("IPS", inputString);
			var hash = inputString;
			hash = Sha1.hash(inputString);
			//console.log(hash);
			var url = hash + "/index.html";

			$.ajax({
				url: url,
				dataType: "html",
				success: function(data) {

					window.location = url;

				},
				error: function(xhr, ajaxOptions, thrownError) {

					parent.location.hash = hash;
					console.log("-");
					console.warn = () => {};
					//$("#wrongPassword").show();
					//$("#password").attr("placeholder", "wrong password");
					//$("#password").val("");
				}
			});
		}

		$("#result").on("click", function() {
			loadPage($("#input").innerHTML);
		});
		$("#input").keypress(function(e) {
			if (e.which == 13) {

				loadPage($("#password").val());
			}
		});
		$("#input").focus();
	</script>
</body></html>
